<!DOCTYPE html>
<html lang="uk">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
        <title>calcylator</title>
    </head>
    <body>
        <div class="container">
            <h2 id="label">0</h2>

            <button id="7">7</button><button id="8">8</button><button id="9">9</button><button id="+">+</button>
            <button id="4">4</button><button id="5">5</button><button id="6">6</button><button id="-">-</button>
            <button id="1">1</button><button id="2">2</button><button id="3">3</button><button id="*">*</button>
            <button id="0">0</button><button id=".">.</button><button id="=">=</button><button id="/">/</button>
            <button id="<="><=</button><button id="C">C</button>
            
        </div>
        <script>
            let number1 = 0
            let strnumber = ""
            let func = 0
            let keyboard = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"]

            keyboard.forEach(key => {
                document.getElementById(key).addEventListener("click", function() {
                    strnumber += key;
                    document.getElementById("label").innerText = strnumber;
                });
            })

            document.getElementById(".").addEventListener("click", function() {
                if (!strnumber.includes(".")){
                    strnumber += ".";
                    document.getElementById("label").innerText = strnumber;
                }  
            });

            document.getElementById("+").addEventListener("click", function() {
                number1 = parseFloat(strnumber)
                strnumber = "0"
                func = 1
                document.getElementById("label").innerText = strnumber;
                strnumber = ""
            });
 
            document.getElementById("-").addEventListener("click", function() {
                number1 = parseFloat(strnumber)
                strnumber = "0"
                func = 2             
                document.getElementById("label").innerText = strnumber;
                strnumber = ""
            });
 
            document.getElementById("/").addEventListener("click", function() {
                number1 = parseFloat(strnumber)
                strnumber = "0"
                func = 3     
                document.getElementById("label").innerText = strnumber;   
                strnumber = ""       
            });
 
            document.getElementById("*").addEventListener("click", function() {
                number1 = parseFloat(strnumber)
                strnumber = "0"
                func = 4
                document.getElementById("label").innerText = strnumber; 
                strnumber = ""               
            });

            document.getElementById("<=").addEventListener("click", function() {
                strnumber = strnumber.slice(0, -1)
                if (strnumber.length == 0){
                    strnumber = "0"
                    document.getElementById("label").innerText = strnumber;
                    strnumber = ""
                }else{
                    document.getElementById("label").innerText = strnumber;
                }
                
                
            });

            document.getElementById("C").addEventListener("click", function() {
                strnumber = "0"
                number1 = 0
                func = 0
                document.getElementById("label").innerText = strnumber;
                strnumber = ""
            });


            document.getElementById("=").addEventListener("click", function() {
                switch (func){
                    
                    case 1:
                        strnumber = (number1 + parseFloat(strnumber)).toString()
                        number1 = 0
                        func = 0
                        document.getElementById("label").innerText = strnumber;
                        break
                    
                    case 2:
                        strnumber = (number1 - parseFloat(strnumber)).toString()
                        number1 = 0
                        func = 0
                        document.getElementById("label").innerText = strnumber;
                        break

                    case 3:
                        strnumber = (number1 / parseFloat(strnumber)).toString()
                        number1 = 0
                        func = 0
                        document.getElementById("label").innerText = strnumber;
                        break

                    case 4:
                        strnumber = (number1 * parseFloat(strnumber)).toString()
                        number1 = 0
                        func = 0
                        document.getElementById("label").innerText = strnumber;
                        break
                }
                
            });
        </script>
    </body>
</html>